{"ast":null,"code":"const handleSubmit = async e => {\n  e.preventDefault();\n  setLoading(true);\n  setMessage('');\n  const token = localStorage.getItem('token');\n  console.log('Token:', token);\n  try {\n    const response = await axios.post(`${apiUrl}/sermons`, {\n      title,\n      preacher: description,\n      // Changed to 'preacher'\n      date_preached: date,\n      // Changed to 'date_preached'\n      content\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n\n    // Clear the form fields after successful submission\n    setTitle('');\n    setDescription('');\n    setDate('');\n    setContent('');\n    setMessage('Sermon added successfully!');\n    console.log('Sermon added:', response.data);\n  } catch (error) {\n    console.error('Error adding sermon:', error);\n    setMessage('Error adding sermon. Please try again.');\n  } finally {\n    setLoading(false);\n  }\n};","map":{"version":3,"names":["handleSubmit","e","preventDefault","setLoading","setMessage","token","localStorage","getItem","console","log","response","axios","post","apiUrl","title","preacher","description","date_preached","date","content","headers","Authorization","setTitle","setDescription","setDate","setContent","data","error"],"sources":["C:/Users/Lenovo/Desktop/dclm-ipswich-website/frontend/src/components/AddSermonForm.js"],"sourcesContent":["const handleSubmit = async (e) => {\r\n  e.preventDefault();\r\n  setLoading(true);\r\n  setMessage('');\r\n\r\n  const token = localStorage.getItem('token');\r\n  console.log('Token:', token);\r\n\r\n  try {\r\n    const response = await axios.post(`${apiUrl}/sermons`, {\r\n      title,\r\n      preacher: description,  // Changed to 'preacher'\r\n      date_preached: date,    // Changed to 'date_preached'\r\n      content\r\n    }, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n\r\n    // Clear the form fields after successful submission\r\n    setTitle('');\r\n    setDescription('');\r\n    setDate('');\r\n    setContent('');\r\n\r\n    setMessage('Sermon added successfully!');\r\n    console.log('Sermon added:', response.data);\r\n\r\n  } catch (error) {\r\n    console.error('Error adding sermon:', error);\r\n    setMessage('Error adding sermon. Please try again.');\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};\r\n"],"mappings":"AAAA,MAAMA,YAAY,GAAG,MAAOC,CAAC,IAAK;EAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;EAClBC,UAAU,CAAC,IAAI,CAAC;EAChBC,UAAU,CAAC,EAAE,CAAC;EAEd,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3CC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEJ,KAAK,CAAC;EAE5B,IAAI;IACF,MAAMK,QAAQ,GAAG,MAAMC,KAAK,CAACC,IAAI,CAAC,GAAGC,MAAM,UAAU,EAAE;MACrDC,KAAK;MACLC,QAAQ,EAAEC,WAAW;MAAG;MACxBC,aAAa,EAAEC,IAAI;MAAK;MACxBC;IACF,CAAC,EAAE;MACDC,OAAO,EAAE;QACPC,aAAa,EAAE,UAAUhB,KAAK;MAChC;IACF,CAAC,CAAC;;IAEF;IACAiB,QAAQ,CAAC,EAAE,CAAC;IACZC,cAAc,CAAC,EAAE,CAAC;IAClBC,OAAO,CAAC,EAAE,CAAC;IACXC,UAAU,CAAC,EAAE,CAAC;IAEdrB,UAAU,CAAC,4BAA4B,CAAC;IACxCI,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEC,QAAQ,CAACgB,IAAI,CAAC;EAE7C,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdnB,OAAO,CAACmB,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC5CvB,UAAU,CAAC,wCAAwC,CAAC;EACtD,CAAC,SAAS;IACRD,UAAU,CAAC,KAAK,CAAC;EACnB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}